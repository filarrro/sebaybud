!function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t,o){"use strict";o(14),o(6),o(9),o(8)},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var o=this[t];o[2]?e.push("@media "+o[2]+"{"+o[1]+"}"):e.push(o[1])}return e.join("")},e.i=function(t,o){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(n[i]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&n[a[0]]||(o&&!a[2]?a[2]=o:o&&(a[2]="("+a[2]+") and ("+o+")"),e.push(a))}},e}},function(e,t,o){function n(e,t){for(var o=0;o<e.length;o++){var n=e[o],r=m[n.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](n.parts[i]);for(;i<n.parts.length;i++)r.parts.push(s(n.parts[i],t))}else{for(var a=[],i=0;i<n.parts.length;i++)a.push(s(n.parts[i],t));m[n.id]={id:n.id,refs:1,parts:a}}}}function r(e){for(var t=[],o={},n=0;n<e.length;n++){var r=e[n],i=r[0],a=r[1],l=r[2],c=r[3],s={css:a,media:l,sourceMap:c};o[i]?o[i].parts.push(s):t.push(o[i]={id:i,parts:[s]})}return t}function i(e,t){var o=h(),n=y[y.length-1];if("top"===e.insertAt)n?n.nextSibling?o.insertBefore(t,n.nextSibling):o.appendChild(t):o.insertBefore(t,o.firstChild),y.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");o.appendChild(t)}}function a(e){e.parentNode.removeChild(e);var t=y.indexOf(e);t>=0&&y.splice(t,1)}function l(e){var t=document.createElement("style");return t.type="text/css",i(e,t),t}function c(e){var t=document.createElement("link");return t.rel="stylesheet",i(e,t),t}function s(e,t){var o,n,r;if(t.singleton){var i=v++;o=b||(b=l(t)),n=d.bind(null,o,i,!1),r=d.bind(null,o,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(o=c(t),n=u.bind(null,o),r=function(){a(o),o.href&&URL.revokeObjectURL(o.href)}):(o=l(t),n=p.bind(null,o),r=function(){a(o)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else r()}}function d(e,t,o,n){var r=o?"":n.css;if(e.styleSheet)e.styleSheet.cssText=x(t,r);else{var i=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function p(e,t){var o=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}function u(e,t){var o=t.css,n=t.sourceMap;n&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var r=new Blob([o],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(r),i&&URL.revokeObjectURL(i)}var m={},g=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},f=g(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),h=g(function(){return document.head||document.getElementsByTagName("head")[0]}),b=null,v=0,y=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=f()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var o=r(e);return n(o,t),function(e){for(var i=[],a=0;a<o.length;a++){var l=o[a],c=m[l.id];c.refs--,i.push(c)}if(e){var s=r(e);n(s,t)}for(var a=0;a<i.length;a++){var c=i[a];if(0===c.refs){for(var d=0;d<c.parts.length;d++)c.parts[d]();delete m[c.id]}}}};var x=function(){var e=[];return function(t,o){return e[t]=o,e.filter(Boolean).join("\n")}}()},function(e,t,o){t=e.exports=o(1)(),t.push([e.id,"body,div,footer,header,main,section{box-sizing:border-box}body{height:100%;padding:60px 0 0;margin:0}::-webkit-scrollbar{width:12px;height:12px}::-webkit-scrollbar-thumb{background:rgba(0,0,0,.6)}::-webkit-scrollbar-thumb:active{background:rgba(0,0,0,.7)}::-webkit-scrollbar-track{background:rgba(0,0,0,.3)}form{margin:0}.header{position:fixed;top:0;left:0;right:0;z-index:40}.header-link{height:100%;line-height:64px;min-width:150px}.header-link.active{background-color:rgba(0,0,0,.3)!important}.viewWrapper{position:relative;background-color:#eee;padding:25px;height:100%;overflow-y:scroll}.page-loader{position:fixed;left:0;top:0;right:0;bottom:0;background-color:#f5f5f5;opacity:0;pointer-events:none;transition:opacity .225s ease-in-out;z-index:30}.page-loader.is-visible{opacity:1;pointer-events:auto}.form-bg{margin:10px 10px 30px;padding:5px 10px}.form-bg,.price-row{background-color:#eee}.price-row{margin:5px 10px 5px 50px;padding:3px 3px 3px 15px;border-radius:4px;margin-left:70px}.price-list-item-container .price-row:last-of-type{margin-bottom:20px}.price-row .md-icon-button{margin:0}.category-row{margin:5px 10px;padding:5px 10px 5px 15px;background-color:#f5f5f5}md-input-container.no-errors .md-errors-spacer{display:none}.md-icon-button md-icon{color:inherit}.warn-text{color:#f44336}.primary-text{color:#2196f3}.bold{font-weight:700!important}.text-center{text-align:center}.text-right{text-align:right}.testimontial-card{position:relative;margin:10px;width:200px}.testimontial-card img{max-height:100%;max-width:100%}.testimontial-card .author{padding:0 10px}.testimontial-card .caption{padding:0 10px 5px;font-size:12px;color:rgba(0,0,0,.55)}.gallery-item{position:relative;margin:10px;height:150px}.gallery-item img{height:100%}.gallery-item .md-button.md-fab{position:absolute;right:5px;bottom:5px}.mgb-30{margin-bottom:30px}.md-table{background-color:#f5f5f5}.md-table .md-table-header{position:relative;color:rgba(0,0,0,.54);font-size:.9em}.md-table .md-table-header .md-table-row{padding-left:115px}.md-table .md-table-header .md-table-row::hover{background-color:initial}.md-table .md-table-header .md-table-row .md-fab{margin:0;position:absolute;bottom:18px;left:25px}.md-table .md-table-row{border-bottom:1px solid rgba(0,0,0,.2);padding:10px 30px 10px 15px;min-height:45px;transition:background-color .225s ease-in-out}.md-table .md-table-row:hover{background-color:#eee}.md-table .md-table-cell.actions .md-icon-button{margin:0}",""])},,,function(e,t){"use strict";angular.module("app",["ngAria","ngAnimate","ui.router","ngResource","ngMaterial"]).config(["$stateProvider","$urlRouterProvider","$locationProvider","$mdThemingProvider",function(e,t,o,n){n.theme("default").primaryPalette("blue"),t.otherwise("/category"),e.state({name:"category",url:"/category",controller:"CategoryController",templateUrl:"templates/admin/category.html",resolve:{list:["PriceCategoryFactory",function(e){return e.query().$promise}]}}).state({name:"categoryedit",url:"/category/edit/:id",controller:"CatPriceController",controllerAs:"vm",templateUrl:"modules/admin/price/price.html",resolve:{category:["PriceCategoryFactory","$stateParams",function(e,t){return e.get({id:t.id}).$promise}]}}).state({name:"testimontials",url:"/testimontials",controller:"TestimontialsController",templateUrl:"templates/testimontials.html",resolve:{list:["TestimontialFactory",function(e){return e.query().$promise}]}}).state({name:"gallery",url:"/gallery",controller:"GalleryController",templateUrl:"templates/gallery.html",resolve:{list:["FileFactory",function(e){return e.query().$promise}]}})}]).run(["$rootScope","$state","$timeout",function(e,t,o){var n=document.getElementById("page-loader"),r=!1;e.$on("$stateChangeStart",function(e,i,a,l,c,s){r||t.current.name===i.name?r=!1:(e.preventDefault(),r=!0,n.classList.add("is-visible"),o(function(){t.go(i,a)},225))}),e.$on("$stateChangeSuccess",function(){n.classList.remove("is-visible")}),e.$on("$stateChangeError",function(){n.classList.remove("is-visible")})}]).controller("TestimontialsController",["$scope","$state","$mdDialog","TestimontialFactory","list",function(e,t,o,n,r){e.list=r,e.testimontial={},e.add=function(e){o.show({controller:"TestimontialDialogController",templateUrl:"templates/testimontials.tmpl.html",targetEvent:e,clickOutsideToClose:!0}).then(function(e){var o=new n(e);o.$save(function(e){console.log(e),t.reload()})})},e.delete=function(t,o){console.log(t),t.$delete(function(t){console.log(t),e.list.splice(o,1)})}}]).controller("TestimontialDialogController",["$scope","$mdDialog",function(e,t){e.data={},e.cropperOptions={aspectRatio:NaN,height:600,fillColor:"#FFF",imgType:"image/jpeg"},e.save=function(){var o=e.sendToServer();e.data.image=o.image,t.hide(e.data)},e.cancel=function(){t.cancel()}}]).controller("GalleryController",["$scope","$state","$mdDialog","FileFactory","list",function(e,t,o,n,r){e.list=r,e.add=function(e){o.show({controller:"GalleryDialogController",templateUrl:"templates/gallery.tmpl.html",targetEvent:e,clickOutsideToClose:!0}).then(function(e){var o=new n({image:e.image,thumb:e.thumb,desc:"",type:1});o.$save(function(e){console.log(e),t.reload()})})},e.delete=function(t,o){console.log(t),t.$delete(function(t){console.log(t),e.list.splice(o,1)})}}]).controller("GalleryDialogController",["$scope","$mdDialog",function(e,t){e.data={},e.cropperOptions={aspectRatio:NaN,height:800,fillColor:"#FFF",imgType:"image/jpeg"},e.save=function(){var o=e.sendToServer();e.data.image=o.image,e.data.thumb=o.thumb,t.hide(e.data)},e.cancel=function(){t.cancel()}}]).controller("CategoryController",["$scope","$state","$mdDialog","PriceFactory","PriceCategoryFactory","list",function(e,t,o,n,r,i){function a(e){o.show({controller:c,controllerAs:"vm",templateUrl:"templates/admin/category.tmpl.html",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0,locals:{item:void 0}}).then(function(e){console.log(e),t.reload()})}function l(e,o){console.log(e),t.go("categoryedit",{id:e.id})}function c(e,t){function o(o){if(o)if(t)r.update({id:t.id},t,function(t){console.log(t),e.hide(t)});else{var n=new r(i.data);n.$save(function(t){console.log(t),e.hide(t)})}}function n(){e.cancel()}var i=this;i.data={},i.hide=o,i.cancel=n,t&&(i.data=t)}c.$inject=["$mdDialog","item"],e.categories=i,console.log("categories",e.categories),e.add=a,e.edit=l,e.save=function(o){if(o){var r=new n(e.newPrice);r.$save(function(e){console.log(e),t.reload()})}},e.delete=function(o){console.log(o);for(var n=0;n<e.priceList.length;n++)if(e.priceList[n].id===o.id){e.priceList[n].$delete(function(e){console.log(e),t.reload()});break}},e.saveCategory=function(o){if(o){var n=new r({name:e.categoryName});n.$save(function(e){t.reload()})}},e.deleteCategory=function(n,r){var i=o.confirm().title("Usunąć element?").textContent("Nie będzie możliwości jego późniejszego przywrócenia.").ariaLabel("Usuwanie").targetEvent(r).ok("Tak").cancel("Nie");o.show(i).then(function(o){for(var r=0;r<e.categories.length;r++)if(e.categories[r].id===n.id){e.categories[r].$delete(function(e){console.log(e),t.reload()});break}})}}]).factory("PriceFactory",["$resource",function(e){return e("/api/prices/:id",{id:"@id"},{update:{method:"PUT"}})}]).factory("PriceCategoryFactory",["$resource",function(e){return e("/api/priceCategory/:id",{id:"@id"},{update:{method:"PUT"}})}]).factory("FileFactory",["$resource",function(e){return e("/api/files/:id",{id:"@id"})}]).factory("TestimontialFactory",["$resource",function(e){return e("/api/testimontials/:id",{id:"@id"})}]).factory("Factory",["$http","$q",function(e,t){var o={};return o.GetData=function(){var o=t.defer();return e.get("/api/main-page").then(function(e){o.resolve(e)}).catch(function(e){console.log("error",e),o.resolve(e)}),o.promise},o}])},,function(e,t){"use strict";angular.module("app").controller("CatPriceController",["$mdDialog","$state","PriceFactory","PriceCategoryFactory","category",function(e,t,o,n,r){function i(o){e.show({controller:d,controllerAs:"vm",templateUrl:"templates/admin/category.tmpl.html",parent:angular.element(document.body),targetEvent:o,clickOutsideToClose:!0,locals:{item:angular.copy(p.category)}}).then(function(e){console.log(e),n.update({id:e.id},e,function(e){console.log(e),t.reload()})})}function a(o){var r=e.confirm().title("Usunąć element?").textContent("Nie będzie możliwości jego późniejszego przywrócenia.").ariaLabel("Usuwanie").targetEvent(o).ok("Tak").cancel("Nie");e.show(r).then(function(e){n.delete({id:p.category.id},null,function(e){console.log(e),e&&e.message&&t.go("category")})})}function l(n){e.show({controller:d,controllerAs:"vm",templateUrl:"modules/admin/price/price.tmpl.html",parent:angular.element(document.body),targetEvent:n,clickOutsideToClose:!0,locals:{item:void 0}}).then(function(e){console.log(e),e.categoryId=p.category.id;var n=new o(e);n.$save(function(e){console.log(e),t.reload()})})}function c(n,r){console.log(n),e.show({controller:d,controllerAs:"vm",templateUrl:"modules/admin/price/price.tmpl.html",parent:angular.element(document.body),targetEvent:r,clickOutsideToClose:!0,locals:{item:n}}).then(function(e){console.log(e),o.update({id:e.id},e,function(e){console.log(e),t.reload()})})}function s(n,r){var i=e.confirm().title("Usunąć element?").textContent("Nie będzie możliwości jego późniejszego przywrócenia.").ariaLabel("Usuwanie").targetEvent(r).ok("Tak").cancel("Nie");e.show(i).then(function(e){o.delete({id:n.id},null,function(e){console.log(e),t.reload()})})}function d(e,t){function o(t){t&&e.hide(r.data)}function n(){e.cancel()}var r=this;r.data={},r.hide=o,r.cancel=n,t&&(r.data=t)}d.$inject=["$mdDialog","item"];var p=this;console.log(r),p.category=r.data,p.list=r.priceList,p.editCategory=i,p.deleteCategory=a,p.add=l,p.edit=c,p.deleteItem=s}])},function(e,t){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};angular.module("app").directive("imageCropper",["$timeout",function(e){return{restrict:"E",templateUrl:"modules/cropper/cropper.html",link:function(t){e(function(){function e(e,o){t.$apply(function(){t.croppWidth=Math.round(e),t.croppHeight=Math.round(o)})}var n=window.Cropper,r=window.console||{log:function(){}},i=document.querySelector(".img-container"),a=i.getElementsByTagName("img").item(0),l=document.getElementById("actions"),c=document.getElementById("inputImage"),s={aspectRatio:t.cropperOptions.aspectRatio,autoCropArea:1,zoomOnWheel:!1,preview:".img-preview",crop:function(t){e(t.width,t.height)}},d=new n(a,s);t.imgbase={},t.sendToServer=function(){var e={};return t.cropperOptions.width&&(e.width=t.cropperOptions.width),t.cropperOptions.height&&(e.height=t.cropperOptions.height),t.cropperOptions.fillColor&&(e.fillColor=t.cropperOptions.fillColor),t.imgbase.image=d.getCroppedCanvas(e).toDataURL(t.cropperOptions.imgType),t.imgbase.thumb=d.getCroppedCanvas({width:250,fillColor:"#FFF"}).toDataURL(t.cropperOptions.imgType),d=null,t.imgbase},t.destroyInstance=function(){d=null},t.scaleToFit=function(){d("setCanvasData",d("getCropBoxData"))},l.querySelector(".docs-buttons").onclick=function(e){var n,i,a,l=e||window.event,c=l.target||l.srcElement;if(d){for(;c!==this&&!c.getAttribute("data-method");)c=c.parentNode;if(!(c===this||c.disabled||c.className.indexOf("disabled")>-1)&&(a={method:c.getAttribute("data-method"),target:c.getAttribute("data-target"),option:c.getAttribute("data-option"),secondOption:c.getAttribute("data-second-option")},a.method)){if("undefined"!=typeof a.target&&(i=document.querySelector(a.target),!c.hasAttribute("data-option")&&a.target&&i))try{a.option=JSON.parse(i.value)}catch(e){r.log(e.message)}switch("getCroppedCanvas"===a.method&&(a.option=JSON.parse(a.option)),n=d[a.method](a.option,a.secondOption),a.method){case"scaleX":case"scaleY":c.setAttribute("data-option",-a.option);break;case"getCroppedCanvas":n&&t.sendToServer();break;case"destroy":d=null}if("object"===("undefined"==typeof n?"undefined":o(n))&&n!==d&&i)try{i.value=JSON.stringify(n)}catch(e){r.log(e.message)}}}};var p,c=document.getElementById("inputImage"),u=window.URL||window.webkitURL;u?c.onchange=function(){var e,t=this.files;d&&t&&t.length&&(e=t[0],/^image\/\w+/.test(e.type)?(p=u.createObjectURL(e),d.reset().replace(p),c.value=null):window.alert("Please choose an image file."))}:(c.disabled=!0,c.parentNode.className+=" disabled"),t.uploadFile=function(){c.click()}})}}}])},,,,,function(e,t,o){var n=o(3);"string"==typeof n&&(n=[[e.id,n,""]]);o(2)(n,{});n.locals&&(e.exports=n.locals)}]);